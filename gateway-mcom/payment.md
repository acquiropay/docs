# Проведение платежа

[[toc]]

## Параметры запроса

### Обязательные параметры

| Название    | Тип     | Обязательность                             | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|-------------|---------|--------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| opcode      | integer | Да                                         | Для проведения платежа - 0.                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| product_id  | integer | Да                                         | Идентификатор оплачиваемого продукта.                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| phone       | string  | Да                                         | Номер телефона плательщика в формате [E.164](https://en.wikipedia.org/wiki/E.164)                                                                                                                                                                                                                                                                                                                                                                                     |
| amount      | float   | Да, если продукт объявлен как "FREE_PRICE" | Сумма к оплате в валюте продукта.  Валюта продукта указывается в настройках продукта.                                                                                                                                                                                                                                                                                                                                                                                 |
| cf          | string  | Да                                         | Свободное поле. Поле должно содержать информацию о плательщике.  Например, в поле можно передать номер заказа (номер договора, номер лицевого счета, номер телефона и др.) Если никаких параметров, содержащих информацию о плательщике, нет, то при интеграции необходимо согласовать значение поля с сотрудниками МФР. Записанная информация будет передана обратно Торговцу в callback-ах или при запросе статуса транзакции. Поле cf не может иметь значение «0». |
| ip_address  | string  | Да                                         | Текстовое значение IPv4, например: 80.80.80.80.                                                                                                                                                                                                                                                                                                                                                                                                                       |
| pp_identity | string  | Да                                         | Идентификатор оператора (см. [справочник](/gateway-mcom/dictionary.md)).                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| token       | string  | Да                                         | Идентификатор безопасности. MD5 (merchant_id + product_Id + amount + cf +cf2 + cf3 + secret_word)                                                                                                                                                                                                                                                                                                                                                                     |
### Дополнительные параметры

| Название     | Тип    | Обязательность | Описание                                |
|--------------|--------|----------------|-----------------------------------------|
| product_name | string | Нет            | Название продукта / назначение платежа. |
| cf2          | string | Нет            | Свободное поле 2.                       |
| cf3          | string | Нет            | Свободное поле 2                        |
| first_name   | string | Нет            | Имя плательщика.                        |
| last_name    | string | Нет            | Фамилия плательщика.                    |
| email        | string | Нет            | E-Mail плательщика.                     |
| cb_url       | string | Нет            | URL для осуществления callback запроса. |

## Ответ

| Название            | Тип    | Описание                                                                                             |
|---------------------|--------|------------------------------------------------------------------------------------------------------|
| payment_id          | string | Идентификатор платежа.                                                                               |
| datetime            | string | Дата и время начала операции в текущем статусе по часовому поясу UTC в формате YYYY-MM-DD hh:mm:ssZ. |
| status              | string | Состояние платежа (см. [справочник](/gateway-mcom/dictionary.md)).                                        |
| pp_identity         | string | Идентификатор оператора (см. [справочник](/gateway-mcom/dictionary.md)).                                                                     |
| cf                  | string | Свободное поле.                                                                                      |
| cf2                 | string | Свободное поле 2.                                                                                    |
| additional          | array  | Дополнительные данные.                                                                            |




